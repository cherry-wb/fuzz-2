<?xml version="1.0"?>
<?xml-stylesheet href="chrome://fuzz/content/fuzz.css" type="text/css"?>

<overlay id="fuzz-overlay"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

  <script type="application/x-javascript"
          src="chrome://fuzz/content/json2.js"/>

  <script type="application/x-javascript"
          src="chrome://fuzz/content/webservices.js"/>

  <script type="application/x-javascript"
          src="chrome://fuzz/content/fuzz_subject_ui.js"/>

  <script type="application/x-javascript"
          src="chrome://fuzz/content/fuzz.js"/>

  <script type="application/x-javascript"
          src="chrome://fuzz/content/fuzz_ui_helper.js"/>

  <script type="application/x-javascript"
          src="chrome://fuzz/content/displays/audio.js"/>

  <script type="application/x-javascript"
          src="chrome://fuzz/content/displays/video.js"/>

  <!-- Fuzz URLbar Icons -->
  <hbox id="urlbar-icons">
    <button insertbefore="feed-button" 
     style="-moz-user-focus: none" class="plain"
     id="fuzz-urlbar-icon" onclick="toggleFuzzTripleUi();">
    </button>
    <button insertbefore="feed-button" type="menu"
     style="-moz-user-focus: none" class="plain"
     id="fuzz-urlbar-audio-icon" 
     tooltiptext="Click to see Audio info..."
     onclick="buildAudioMenuPopup();">  
       <menupopup id="fuzz-audio-menu-popup">
       </menupopup>
    </button>
    <button insertbefore="feed-button"  type="menu"
     style="-moz-user-focus: none" class="plain"
     id="fuzz-urlbar-video-icon" 
     tooltiptext="Click to see Video info..."
     onclick="buildVideoMenuPopup();">
       <menupopup id="fuzz-video-menu-popup">
       </menupopup>
    </button>
    <button insertbefore="feed-button"  type="menu"
     style="-moz-user-focus: none" class="plain"
     tooltiptext="Click to see Contact info..."
     id="fuzz-urlbar-foaf-person-icon" onclick="toggleFuzzTripleUi();">
    </button>
  </hbox>

  <!-- Fuzz panel -->

  <vbox id="appcontent">
     <vbox id="fuzz-ui" hidden="true" minheight="200" maxheight="200">
        <listhead>
           <hbox>
           <label minwidth="200" value="Subject"/>
           <label minwidth="200" value="Predicate"/>
           <label minwidth="200" value="Object"/>
           <label style="text-align: right" minwidth="300" flex="1" value="Fuzz"/>
           </hbox>
        </listhead>
        <richlistbox id="fuzz-triples-listbox" flex="1" rows="10">
        </richlistbox>
     </vbox>
  </vbox>

  <statusbar id="status-bar" >
    <statusbarpanel class="statusbarpanel-iconic"
                    id="fuzz-status"
                    context="fuzz-status-context-menu"
                    oncommand="detectSemanticData(); toggleFuzzTripleUi();">
      <image id="fuzz-status-image" width="16" height="16"
             src="chrome://fuzz/content/fuzz16-offline.png"
             onload="attachDocumentListeners();"/>
    </statusbarpanel>
    <menupopup id="fuzz-status-context-menu">
      <!-- menuitem id="fuzz-ui-find-triples" 
                label="Display Triples" oncommand="detectSemanticData();"/ -->
      <menuitem id="fuzz-ui-control" 
                label="Examine Raw Triples" oncommand="toggleFuzzTripleUi();"/>
      <menuitem id="fuzz-ui-disable" 
                label="Fuzz Disabled" type="checkbox"/>
    </menupopup>
  </statusbar>

</overlay>
